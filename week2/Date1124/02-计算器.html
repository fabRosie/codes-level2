<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>罗茜的计算器</title>
    <style type="text/css">
        #outer {
            width: 450px;
            height: 540px;
            background-color: gray;
            margin: 0 auto;
            border-radius: 20px;    /* 设置最外层父窗口的圆角 */
        }
        #top {
            width: 200px;
            padding-left: 20px;     /* 让小圆点距离左边20像素 */
            height: 50px;
            margin: 0 auto;
            display: table-cell;    /* 以单元格方式处理DIV，便于实现垂直居中 */
            vertical-align: middle;  /* 让三个小圆点都垂直居中 */
        }
        .point {
            width: 20px;            /* 要实现圆形，必须是一个正方形  */
            height: 20px;
            float: left;
            margin-left: 10px;
            border-radius: 50%;     /* 设置小圆点的圆角半径为宽度的一半，这样可以实现一个圆 */
        }
        .bg-blue {
            background-color: dodgerblue;
        }
        .bg-green {
            background-color: darkgreen;
        }
        .bg-red {
            background-color: orangered;
        }
        #result-box {
            width: 97%;
            height: 50px;
            background-color: white;
            margin: 0 auto;
            border: solid 2px orangered;
        }
        #result {
            width: 99%;
            height: 48px;
            border: 0;
            font-size: 30px;
            text-align: right;
            font-family: 微软雅黑;
        }
        #button {
            width: 99%;
            height: 420px;
            margin: 10px auto;
        }
        #button div {
            width: 24%;
            height: 80px;
            margin: 2px;
            background-color: #7fffd4;
            float: left;
            font-size: 30px;
            text-align: center;
            line-height: 80px;
            font-family: 微软雅黑;
        }
        #button div:hover {
            background-color: orangered;   /* 针对所有按钮实现鼠标悬停效果 */
        }
    </style>

 

</head>
<body >
    <div id="outer">
        <div id="top">
            <div class="point bg-red"></div>
            <div class="point bg-blue"></div>
            <div class="point bg-green"></div>
        </div>

        <div id="result-box">
            <input type="text" id="result" readonly="readonly" maxlength="10"/>
        </div>

        <div id="button">
            <div onclick="clearAll()">AC</div>
            <div onclick="switchSymbol()">+/-</div>    
            <div onclick="clickSymbol('%')">%</div>
            <div onclick="clickSymbol('/')">÷</div>
            <div onclick="clickNumber('7')">7</div>
            <div onclick="clickNumber('8')">8</div>
            <div onclick="clickNumber('9')">9</div>
            <div onclick="clickSymbol('*')">*</div>
            <div onclick="clickNumber('4')">4</div>
            <div onclick="clickNumber('5')">5</div>
            <div onclick="clickNumber('6')">6</div>
            <div onclick="clickSymbol('-')">-</div>
            <div onclick="clickNumber('1')">1</div>
            <div onclick="clickNumber('2')">2</div>
            <div onclick="clickNumber('3')">3</div>
            <div onclick="clickSymbol('+')">+</div>
            <div onclick="clickNumber('0')">0</div>
            <div onclick="back();"><-</div>
            <div onclick="clickDot('.')">.</div>
            <div onclick="calc()">=</div>
        </div>
    </div>
    <script>
        /*
        计算器功能
        1. input中追加数字和运算符
          1-1:给数字的 标签设置点击事件
          1-2:将被点击的数字追加到input的内容里
        */
        //1.
        // 1-1
        var canDot=true;
        function clickNumber(num){
            var input=document.querySelector("#result");
            input.value+=num;
        }
        function clickSymbol(sym){
            var input=document.querySelector("#result");
            var last=input.value.substr(input.value.length-1);
            var result=isNaN(Number(last));
            if(result){
                input.value=input.value.substr(0,input.value.length-1);
                input.value+=sym;
            }else{
                input.value+=sym;
            }
            canDot=true;
        }
        function clickDot(dot){
            var input=document.querySelector("#result");
            var text=input.value;
            if(canDot==true){
                input.value+=dot;
                canDot=false;
            }
        }
        //重复
        //计算
        function calc(){
            var input=document.querySelector("#result");
            var text=input.value;
            input.value=eval(text);
        }
        function back(){
            var input=document.querySelector("#result");
            var text=input.value;
            var str=text.substring(0,text.length-1);
            input.value=str;
            canDot=true;
        }
        //正负
        function switchSymbol(){
            var input=document.querySelector("#result");
            var text=input.value;
            var str=text.substr(0,1);
            if(str=="-"){
                text=text.substr(1);
            }else{
                text="-"+text;
            }
            input.value=text;
        }
        //清空
        function clearAll(){
            var input=document.querySelector("#result");
            input.value="";
            canDot=true;
        }
       //作业： 
       /*
       3. 正负
       4. bug:运算符重复
        只能是数字后面才能跟一个运算符
        // 规则：只能在数字后面输入运算符
       5. [扩展]小数点
        规则:
        1. 必须在数字之后输入
        2. 两个小数点之间要有运算符
        解题思路:每个条件都用一个变量去控制，当都满足时才能够输入小数点
       */
    </script>
</body>
</html>